import{a as k,f as N}from"../chunks/B_eQUnVT.js";import"../chunks/BPiD1hcC.js";import{av as U,aw as V,b as I,a3 as x,C as L,v as d,ax as P,R,X as v,S as C,g as o,U as G,V as b,W as _,Q as u,P as w}from"../chunks/BVoyW1jO.js";import{e as M}from"../chunks/CZUGDX72.js";import{d as T,r as p}from"../chunks/D0tExfHB.js";import{i as W}from"../chunks/DNBQGm1E.js";import{a as O,c as Q,s as X}from"../chunks/Dkl77Sa9.js";function S(e,a,l=a){var s=new WeakSet;U(e,"input",async t=>{var r=t?e.defaultValue:e.value;if(r=g(e)?y(r):r,l(r),d!==null&&s.add(d),await V(),r!==(r=a())){var f=e.selectionStart,c=e.selectionEnd,n=e.value.length;if(e.value=r??"",c!==null){var i=e.value.length;f===c&&c===n&&i>n?(e.selectionStart=i,e.selectionEnd=i):(e.selectionStart=f,e.selectionEnd=Math.min(c,i))}}}),(L&&e.defaultValue!==e.value||I(a)==null&&e.value)&&(l(g(e)?y(e.value):e.value),d!==null&&s.add(d)),x(()=>{var t=a();if(e===document.activeElement){var r=P??d;if(s.has(r))return}g(e)&&t===y(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function g(e){var a=e.type;return a==="number"||a==="range"}function y(e){return e===""?null:+e}const $=async(e,a)=>{try{await O(Q(T,"events"),{type:e,payload:a,timestamp:X()}),console.log(`[EVENT LOGGED] ${e}`,a)}catch(l){throw console.error("Error logging event:",l),l}};var q=N('<h1>Admin Panel</h1> <div class="card svelte-1jef3w8"><h2>Add New Service</h2> <label class="svelte-1jef3w8">Name: <input placeholder="My API" class="svelte-1jef3w8"/></label> <label class="svelte-1jef3w8">URL: <input placeholder="https://api.example.com" class="svelte-1jef3w8"/></label> <label class="svelte-1jef3w8">Interval (min): <input type="number" min="1" class="svelte-1jef3w8"/></label> <button>Add Service</button></div>',1);function Z(e,a){R(a,!1);let l=w(""),s=w(""),t=w(1);async function r(){!o(l)||!o(s)||(await $("SERVICE_ADDED",{id:crypto.randomUUID(),name:o(l),url:o(s),interval:Number(o(t))}),u(l,""),u(s,""),alert("Service Added! (Event Logged)"))}W();var f=q(),c=v(C(f),2),n=v(b(c),2),i=v(b(n));p(i),_(n);var h=v(n,2),j=v(b(h));p(j),_(h);var E=v(h,2),A=v(b(E));p(A),_(E);var D=v(E,2);_(c),S(i,()=>o(l),m=>u(l,m)),S(j,()=>o(s),m=>u(s,m)),S(A,()=>o(t),m=>u(t,m)),M("click",D,r),k(e,f),G()}export{Z as component};
