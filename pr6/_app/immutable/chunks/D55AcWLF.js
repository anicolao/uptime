import{E as C,J as F,K as Q,L as H,M as W,N as Z,g as V,O as $,P as G,Q as Y,R as O,S as x,T as j,U as ee,V as B,C as re,W as D,X as ne,Y as ae,h as fe,Z as le,_ as L,$ as ie,a0 as U,a1 as se,a2 as ue,m as te,a3 as w,a4 as q,a5 as J,a6 as z,a7 as oe,a8 as ve,a9 as ce,aa as de}from"./BM0BOJ_K.js";function Te(e,l){return l}function he(e,l,f){for(var t=[],h=l.length,s,i=l.length,n=0;n<h;n++){let u=l[n];J(u,()=>{if(s){if(s.pending.delete(u),s.done.add(u),s.pending.size===0){var d=e.outrogroups;y(L(s.done)),d.delete(s),d.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=t.length===0&&f!==null;if(o){var a=f,v=a.parentNode;ve(v),v.append(a),e.items.clear()}y(l,!o)}else s={pending:new Set(l),done:new Set},(e.outrogroups??=new Set).add(s)}function y(e,l=!0){for(var f=0;f<e.length;f++)ce(e[f],l)}var X;function Ne(e,l,f,t,h,s=null){var i=e,n=new Map;{var o=e;i=C?F(Q(o)):o.appendChild(H())}C&&W();var a=null,v=fe(()=>{var c=f();return le(c)?c:c==null?[]:L(c)}),u,d=!0;function R(){_.fallback=a,pe(_,u,i,l,t),a!==null&&(u.length===0?(a.f&w)===0?q(a):(a.f^=w,k(a,null,i)):J(a,()=>{a=null}))}var r=Z(()=>{u=V(v);var c=u.length;let T=!1;if(C){var g=$(i)===G;g!==(c===0)&&(i=Y(),F(i),O(!1),T=!0)}for(var I=new Set,N=re,b=ae(),m=0;m<c;m+=1){C&&x.nodeType===j&&x.data===ee&&(i=x,T=!0,O(!1));var S=u[m],p=t(S,m),E=d?null:n.get(p);E?(E.v&&B(E.v,S),E.i&&B(E.i,m),b&&N.unskip_effect(E.e)):(E=ge(n,d?i:X??=H(),S,p,m,h,l,f),d||(E.e.f|=w),n.set(p,E)),I.add(p)}if(c===0&&s&&!a&&(d?a=D(()=>s(i)):(a=D(()=>s(X??=H())),a.f|=w)),c>I.size&&ne(),C&&c>0&&F(Y()),!d)if(b){for(const[K,P]of n)I.has(K)||N.skip_effect(P.e);N.oncommit(R),N.ondiscard(()=>{})}else R();T&&O(!0),V(v)}),_={effect:r,items:n,outrogroups:null,fallback:a};d=!1,C&&(i=x)}function M(e){for(;e!==null&&(e.f&oe)===0;)e=e.next;return e}function pe(e,l,f,t,h){var s=l.length,i=e.items,n=M(e.effect.first),o,a=null,v=[],u=[],d,R,r,_;for(_=0;_<s;_+=1){if(d=l[_],R=h(d,_),r=i.get(R).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&w)!==0)if(r.f^=w,r===n)k(r,null,f);else{var c=a?a.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),A(e,a,r),A(e,r,c),k(r,c,f),a=r,v=[],u=[],n=M(a.next);continue}if((r.f&z)!==0&&q(r),r!==n){if(o!==void 0&&o.has(r)){if(v.length<u.length){var T=u[0],g;a=T.prev;var I=v[0],N=v[v.length-1];for(g=0;g<v.length;g+=1)k(v[g],T,f);for(g=0;g<u.length;g+=1)o.delete(u[g]);A(e,I.prev,N.next),A(e,a,I),A(e,N,T),n=T,a=N,_-=1,v=[],u=[]}else o.delete(r),k(r,n,f),A(e,r.prev,r.next),A(e,r,a===null?e.effect.first:a.next),A(e,a,r),a=r;continue}for(v=[],u=[];n!==null&&n!==r;)(o??=new Set).add(n),u.push(n),n=M(n.next);if(n===null)continue}(r.f&w)===0&&v.push(r),a=r,n=M(r.next)}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(y(L(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var b=[];if(o!==void 0)for(r of o)(r.f&z)===0&&b.push(r);for(;n!==null;)(n.f&z)===0&&n!==e.fallback&&b.push(n),n=M(n.next);var m=b.length;if(m>0){var S=s===0?f:null;he(e,b,S)}}}function ge(e,l,f,t,h,s,i,n){var o=(i&se)!==0?(i&ue)===0?te(f,!1,!1):U(f):null,a=(i&ie)!==0?U(h):null;return{v:o,i:a,e:D(()=>(s(l,o??f,a??h,n),()=>{e.delete(t)}))}}function k(e,l,f){if(e.nodes)for(var t=e.nodes.start,h=e.nodes.end,s=l&&(l.f&w)===0?l.nodes.start:f;t!==null;){var i=de(t);if(s.before(t),t===h)return;t=i}}function A(e,l,f){l===null?e.effect.first=f:l.next=f,f===null?e.effect.last=l:f.prev=l}function _e(e,l,f){var t=e==null?"":""+e;return t===""?null:t}function me(e,l,f,t,h,s){var i=e.__className;if(C||i!==f||i===void 0){var n=_e(f);(!C||n!==e.getAttribute("class"))&&(n==null?e.removeAttribute("class"):e.className=n),e.__className=f}return s}export{Ne as e,Te as i,me as s};
